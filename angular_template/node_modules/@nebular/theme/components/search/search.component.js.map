{"version":3,"file":"search.component.js","sourceRoot":"","sources":["../../../../../.ng_build/theme/components/search/search.component.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n\nimport {\n  Component, ChangeDetectionStrategy, Input, HostBinding,\n  ComponentRef, Output, EventEmitter, ViewChild, ElementRef, AfterViewInit, ComponentFactoryResolver, ViewContainerRef,\n  OnDestroy, OnInit,\n} from '@angular/core';\n\nimport { NbSearchService } from './search.service';\nimport { NbThemeService } from '../../services/theme.service';\nimport { Observable } from 'rxjs/Observable';\nimport { Subscription } from 'rxjs/Subscription';\nimport 'rxjs/add/operator/filter';\nimport 'rxjs/add/observable/of';\nimport 'rxjs/add/operator/delay';\nimport { Router, NavigationEnd } from '@angular/router';\n\n/**\n * search-field-component is used under the hood by nb-search component\n * can't be used itself\n */\n@Component({\n  selector: 'nb-search-field',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  styleUrls: [\n    'styles/search.component.modal-zoomin.css',\n    'styles/search.component.layout-rotate.css',\n    'styles/search.component.modal-move.css',\n    'styles/search.component.curtain.css',\n    'styles/search.component.column-curtain.css',\n    'styles/search.component.modal-drop.css',\n    'styles/search.component.modal-half.css',\n  ],\n  template: `\n    <div class=\"search\" (keyup.esc)=\"closeSearch()\" >\n      <button (click)=\"closeSearch()\">\n        <i class=\"nb-close-circled\"></i>\n      </button>\n      <div class=\"form-wrapper\">\n        <form class=\"form\" (keyup.enter)=\"submitSearch(searchInput.value)\">\n          <div class=\"form-content\">\n            <input class=\"search-input\"\n              #searchInput\n              autocomplete=\"off\"\n              [attr.placeholder]=\"placeholder\"\n              tabindex=\"-1\"\n              (blur)=\"tabOut.next($event)\"/>\n          </div>\n          <span class=\"info\">Hit enter to search</span>\n        </form>\n      </div>\n    </div>\n  `,\n})\nexport class NbSearchFieldComponent {\n\n  static readonly TYPE_MODAL_ZOOMIN = 'modal-zoomin';\n  static readonly TYPE_ROTATE_LAYOUT = 'rotate-layout';\n  static readonly TYPE_MODAL_MOVE = 'modal-move';\n  static readonly TYPE_CURTAIN = 'curtain';\n  static readonly TYPE_COLUMN_CURTAIN = 'column-curtain';\n  static readonly TYPE_MODAL_DROP = 'modal-drop';\n  static readonly TYPE_MODAL_HALF = 'modal-half';\n\n  @Input() searchType: string;\n  @Input() placeholder: string;\n\n  @Output() searchClose = new EventEmitter();\n  @Output() search = new EventEmitter();\n  @Output() tabOut = new EventEmitter();\n\n\n  @ViewChild('searchInput') inputElement: ElementRef;\n\n  @Input() @HostBinding('class.show') showSearch: boolean = false;\n\n  @HostBinding('class.modal-zoomin')\n  get modalZoomin() {\n    return this.searchType === NbSearchFieldComponent.TYPE_MODAL_ZOOMIN;\n  }\n\n  @HostBinding('class.rotate-layout')\n  get rotateLayout() {\n    return this.searchType === NbSearchFieldComponent.TYPE_ROTATE_LAYOUT;\n  }\n\n  @HostBinding('class.modal-move')\n  get modalMove() {\n    return this.searchType === NbSearchFieldComponent.TYPE_MODAL_MOVE;\n  }\n\n  @HostBinding('class.curtain')\n  get curtain() {\n    return this.searchType === NbSearchFieldComponent.TYPE_CURTAIN;\n  }\n\n  @HostBinding('class.column-curtain')\n  get columnCurtain() {\n    return this.searchType === NbSearchFieldComponent.TYPE_COLUMN_CURTAIN;\n  }\n\n  @HostBinding('class.modal-drop')\n  get modalDrop() {\n    return this.searchType === NbSearchFieldComponent.TYPE_MODAL_DROP;\n  }\n\n  @HostBinding('class.modal-half')\n  get modalHalf() {\n    return this.searchType === NbSearchFieldComponent.TYPE_MODAL_HALF;\n  }\n\n  @Input()\n  set type(val: any) {\n    this.searchType = val;\n  }\n\n  closeSearch() {\n    this.searchClose.emit(true);\n  }\n\n  submitSearch(term) {\n    if (term) {\n      this.search.emit(term);\n    }\n  }\n}\n\n/**\n * Beautiful full-page search control.\n *\n * @styles\n *\n * search-btn-open-fg:\n * search-btn-close-fg:\n * search-bg:\n * search-bg-secondary:\n * search-text:\n * search-info:\n * search-dash:\n * search-placeholder:\n */\n@Component({\n  selector: 'nb-search',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  styleUrls: ['styles/search.component.css'],\n  template: `\n    <button class=\"start-search\" (click)=\"openSearch()\">\n      <i class=\"nb-search\"></i>\n    </button>\n    <ng-template #attachedSearchContainer></ng-template>\n  `,\n})\nexport class NbSearchComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  /**\n   * Tags a search with some ID, can be later used in the search service\n   * to determine which search component triggered the action, if multiple searches exist on the page.\n   *\n   * @type {string}\n   */\n  @Input() tag: string;\n\n  /**\n   * Search input placeholder\n   * @type {string}\n   */\n  @Input() placeholder: string = 'Search...';\n\n  @HostBinding('class.show') showSearch: boolean = false;\n\n  @ViewChild('attachedSearchContainer', { read: ViewContainerRef }) attachedSearchContainer: ViewContainerRef;\n\n  private searchFieldComponentRef: ComponentRef<any> = null;\n  private searchType: string = 'rotate-layout';\n  private activateSearchSubscription: Subscription;\n  private deactivateSearchSubscription: Subscription;\n  private routerSubscription: Subscription;\n\n  constructor(private searchService: NbSearchService,\n    private themeService: NbThemeService,\n    private componentFactoryResolver: ComponentFactoryResolver,\n    private router: Router) { }\n\n  /**\n   * Search design type, available types are\n   * modal-zoomin, rotate-layout, modal-move, curtain, column-curtain, modal-drop, modal-half\n   * @type {string}\n   */\n  @Input()\n  set type(val: any) {\n    this.searchType = val;\n  }\n\n  openSearch() {\n    this.searchService.activateSearch(this.searchType, this.tag);\n  }\n\n  connectToSearchField(componentRef) {\n    this.searchFieldComponentRef = componentRef;\n    componentRef.instance.searchType = this.searchType;\n    componentRef.instance.placeholder = this.placeholder;\n    componentRef.instance.searchClose.subscribe(() => {\n      this.searchService.deactivateSearch(this.searchType, this.tag);\n    });\n\n    componentRef.instance.search.subscribe(term => {\n      this.searchService.submitSearch(term, this.tag);\n      this.searchService.deactivateSearch(this.searchType, this.tag);\n    });\n\n    componentRef.instance.tabOut\n      .subscribe(() => this.showSearch && this.searchFieldComponentRef.instance.inputElement.nativeElement.focus());\n\n    componentRef.changeDetectorRef.detectChanges();\n  }\n\n  createAttachedSearch(component): Observable<any> {\n    const componentFactory = this.componentFactoryResolver.resolveComponentFactory(component);\n    const componentRef = this.attachedSearchContainer.createComponent(componentFactory);\n\n    return Observable.of(componentRef);\n  }\n\n  ngOnInit() {\n    this.routerSubscription = this.router.events\n      .filter(event => event instanceof NavigationEnd)\n      .subscribe(event => this.searchService.deactivateSearch(this.searchType, this.tag));\n    this.activateSearchSubscription = this.searchService.onSearchActivate().subscribe((data) => {\n      if (!this.tag || data.tag === this.tag) {\n        this.showSearch = true;\n        this.themeService.appendLayoutClass(this.searchType);\n        Observable.of(null).delay(0).subscribe(() => {\n          this.themeService.appendLayoutClass('with-search');\n        });\n        this.searchFieldComponentRef.instance.showSearch = true;\n        this.searchFieldComponentRef.instance.inputElement.nativeElement.focus();\n        this.searchFieldComponentRef.changeDetectorRef.detectChanges();\n      }\n    });\n\n    this.deactivateSearchSubscription = this.searchService.onSearchDeactivate().subscribe((data) => {\n      if (!this.tag || data.tag === this.tag) {\n        this.showSearch = false;\n        this.searchFieldComponentRef.instance.showSearch = false;\n        this.searchFieldComponentRef.instance.inputElement.nativeElement.value = '';\n        this.searchFieldComponentRef.instance.inputElement.nativeElement.blur();\n        this.searchFieldComponentRef.changeDetectorRef.detectChanges();\n        this.themeService.removeLayoutClass('with-search');\n        Observable.of(null).delay(500).subscribe(() => {\n          this.themeService.removeLayoutClass(this.searchType);\n        });\n      }\n    });\n  }\n\n  ngAfterViewInit() {\n    this.themeService.appendToLayoutTop(NbSearchFieldComponent)\n      .subscribe((componentRef: ComponentRef<any>) => {\n        this.connectToSearchField(componentRef);\n      });\n  }\n\n  ngOnDestroy() {\n    this.activateSearchSubscription.unsubscribe();\n    this.deactivateSearchSubscription.unsubscribe();\n    this.routerSubscription.unsubscribe();\n    if (this.searchFieldComponentRef) {\n      this.searchFieldComponentRef.destroy();\n    }\n  }\n}\n"]}